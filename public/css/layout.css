/* ========================================
   2. LAYOUT PRINCIPAL
   ======================================== */
.app-container { 
    position: relative;
    z-index: 2; /* Au-dessus des particules */
    background: rgba(5, 5, 5, var(--bg-overlay)); /* Semi-transparent */
    display: flex; 
    height: 100vh; 
    transition: opacity 0.5s ease;


    backdrop-filter: blur(var(--bg-blur));
    -webkit-backdrop-filter: blur(var(--bg-blur));
}

.main-content { 
    flex: 1; 
    overflow-y: auto; 
    padding-bottom: 110px; /* Espace pour le lecteur */
    scroll-behavior: smooth;
    position: relative;
    z-index: 10;
}

.grid { 
    display: grid; 
    grid-template-columns: repeat(auto-fill, minmax(160px, 1fr)); 
    gap: 20px; 
    padding: 20px; 
}

/* ========================================
   SIDEBAR (Barre Lat√©rale)
   ======================================== */
.sidebar { 
    width: 240px; 
    background: var(--side); 
    border-right: 1px solid var(--border); 
    display: flex; 
    flex-direction: column; 
    height: calc(100vh - 90px); /* Hauteur moins le lecteur */
    overflow: hidden; 
    position: relative;
    z-index: 20; 
    transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

.sidebar.hidden { 
    transform: translateX(-100%); 
    position: absolute; 
    height: 100%; 
    z-index: 1000;
}

.sidebar-header { 
    padding: 20px;
    margin-bottom: 10px; 
    display: flex; 
    justify-content: space-between; 
    align-items: center; 
}

.logo { font-size: 22px; font-weight: bold; letter-spacing: 1px; }
.logo span { color: var(--accent); }

/* Navigation interne Sidebar */
.sidebar-scroll-area {
    flex: 1; 
    overflow-y: auto; 
    overflow-x: hidden;
    padding: 0 10px 10px 10px;
    scrollbar-width: thin;
    scrollbar-color: var(--accent) transparent;
}

.sidebar-scroll-area::-webkit-scrollbar { width: 4px; }
.sidebar-scroll-area::-webkit-scrollbar-thumb { background-color: var(--accent); border-radius: 4px; }

nav button { 
    background: none; border: none; color: var(--text-muted); 
    width: 100%; text-align: left; padding: 12px; 
    cursor: pointer; font-size: 16px; transition: all 0.2s ease; 
    display: flex; align-items: center; gap: 15px; border-radius: 8px;
}
nav button:hover { color: white; background: var(--card-hover); }
nav button .lucide { width: 22px; height: 22px; margin-right: 10px; opacity: 0.8; }

.pl-header { color: var(--text-dim); font-size: 12px; font-weight: bold; margin: 20px 0 10px 12px; letter-spacing: 1px; }
#pl-list { display: flex; flex-direction: column; gap: 4px; margin-bottom: 20px; max-height: 200px; overflow-y: auto; }

.sidebar-footer { padding: 15px 20px 20px; flex-shrink: 0; background: #000; border-top: 1px solid rgba(255,255,255,0.05); z-index: 20; }
.close-menu { display: none; background: none; border: none; color: var(--text-muted); font-size: 20px; cursor: pointer; }

/* ========================================
   TOP NAV (Barre du haut)
   ======================================== */
.top-nav { 
    height: 64px; 
    display: flex; align-items: center; gap: 20px;
    padding: 0 20px; 
    background: rgba(5, 5, 5, 0.95); 
    backdrop-filter: blur(10px); 
    position: sticky; top: 0; z-index: 50; 
    border-bottom: 1px solid var(--border);
}

.section-title { padding: 20px; margin: 0; font-size: 24px; font-weight: bold; }

/* CORRECTION Z-INDEX ICI POUR LES BOUTONS */
.section-header { 
    display: flex; 
    justify-content: space-between; 
    align-items: center; 
    padding: 20px;
    position: relative; /* Important */
    z-index: 20; /* Passe au dessus du fond */
}